SAP workloads registration as a virtual instance, is a process to represent SAP workload which consists of Database instance, SAP central instance, SAP application server's

This grouping of resources as a virtual instance gives a logical representation of an SAP system

Examples for Virtual instance to be produced as output by the agent-

FIRST EXAMPLE-
"requests": [
        {
            "method": "PUT",
            "id": "/subscriptions/49d64d54-e966-4c46-a868-1999802b762c/resourceGroups/AWC-BulkRegister-Demo/providers/microsoft.workloads/virtualinstances/BulkRegister-VI1",
            "body": {
                "location": "centraluseuap",
                "tags": {
                    "TestSystem": "true"
                },
                "apiVersion": "2024-12-01-preview",
                "type": "microsoft.workloads/virtualinstances",
                "kind": "sap",
                "identity": {
                    "type": "UserAssigned",
                    "userAssignedIdentities": {
                        "/subscriptions/49d64d54-e966-4c46-a868-1999802b762c/resourcegroups/ajgupt-test/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ajgupttest": {}
                    }
                },
                "properties": {
                    "architectureId": "sap-highavailability",
                    "environmentType": "NonProduction",
                    "environmentLabel": "Test",
                    "systemLifecycleStage": "Active",
                    "systemPriority": 3,
                    "metadata": {
                        "SID": "VIS"
                    }
                },
                "childresources": [
                    {
                        "name": "app01",
                        "type": "components",
                        "tags": {
                            "TestSystem": "true"
                        },
                        "properties": {
                            "componentType": "applicationserver",
                            "componentRole": "default",
                            "resources": [
                                {
                                    "resourceId": "/subscriptions/49d64d54-e966-4c46-a868-1999802b762c/resourceGroups/AWC-Selfhost-RG/providers/Microsoft.Compute/virtualMachines/selfhost-vm1"
                                }
                            ]
                        }
                    },
                    {
                        "name": "app02",
                        "type": "components",
                        "tags": {
                            "TestSystem": "true"
                        },
                        "properties": {
                            "componentType": "applicationserver",
                            "componentRole": "default",
                            "resources": [
                                {
                                    "resourceId": "/subscriptions/49d64d54-e966-4c46-a868-1999802b762c/resourceGroups/AWC-Selfhost-RG/providers/Microsoft.Compute/virtualMachines/selfhost-vm2"
                                }
                            ]
                        }
                    },
                    {
                        "name": "db01",
                        "type": "components",
                        "tags": {
                            "TestSystem": "true"
                        },
                        "properties": {
                                      "componentType": "databaseserver",
                            "componentRole": "default",
                            "metadata": {
                                "DBType": "HANA"
                            },
                            "resources": [
                                {
                                    "resourceId": "/subscriptions/49d64d54-e966-4c46-a868-1999802b762c/resourceGroups/AWC-Selfhost-RG/providers/Microsoft.Compute/virtualMachines/selfhost-vm3"
                                },
                                {
                                    "resourceId": "/subscriptions/49d64d54-e966-4c46-a868-1999802b762c/resourceGroups/AWC-Selfhost-RG/providers/Microsoft.Compute/virtualMachines/selfhost-vm4"
                                },
                                {
                                    "resourceId": "/subscriptions/49d64d54-e966-4c46-a868-1999802b762c/resourceGroups/AWC-Selfhost-RG/providers/Microsoft.Network/loadBalancers/selfhost-lb1"
                                }
                            ]
                        }
                    },
                    {
                        "name": "cs01",
                        "type": "components",
                        "tags": {
                            "TestSystem": "true"
                        },
                        "properties": {
                            "componentType": "sapcentralservices",
                            "componentRole": "default",
                            "resources": [
                                {
                                    "resourceId": "/subscriptions/49d64d54-e966-4c46-a868-1999802b762c/resourceGroups/AWC-Selfhost-RG/providers/Microsoft.Compute/virtualMachines/selfhost-ascs1"
                                },
                                {
                                    "resourceId": "/subscriptions/49d64d54-e966-4c46-a868-1999802b762c/resourceGroups/AWC-Selfhost-RG/providers/Microsoft.Compute/virtualMachines/selfhost-ascs2"
                                },
                                {
                                    "resourceId": "/subscriptions/49d64d54-e966-4c46-a868-1999802b762c/resourceGroups/AWC-Selfhost-RG/providers/Microsoft.NetApp/netAppAccounts/selfhost-netapp1"
                                },
                                {
                                    "resourceId": "/subscriptions/49d64d54-e966-4c46-a868-1999802b762c/resourceGroups/AWC-Selfhost-RG/providers/Microsoft.Storage/storageAccounts/selfhostsa/fileServices/default/shares/selfhost-fileshare1"
                                }
                            ]
                        }
                    }
                ]
            }
        },




SECOND EXAMPLE-
 {
            "method": "PUT",
            "id": "/subscriptions/49d64d54-e966-4c46-a868-1999802b762c/resourceGroups/AWC-BulkRegister-Demo/providers/microsoft.workloads/virtualinstances/BulkRegister-VI2",
            "body": {
                "location": "centraluseuap",
                "tags": {
                    "TestSystem": "true"
                },
                "apiVersion": "2024-12-01-preview",
                "type": "microsoft.workloads/virtualinstances",
                "kind": "sap",
                "identity": {
                    "type": "UserAssigned",
                    "userAssignedIdentities": {
                        "/subscriptions/49d64d54-e966-4c46-a868-1999802b762c/resourcegroups/ajgupt-test/providers/Microsoft.ManagedIdentity/userAssignedIdentities/ajgupttest": {}
                    }
                },
                "properties": {
                    "architectureId": "sap-highavailability",
                    "environmentType": "NonProduction",
                    "environmentLabel": "Test",
                    "systemLifecycleStage": "Active",
                    "systemPriority": 3,
                    "metadata": {
                        "SID": "VIS"
                    }
                },
                "childresources": [
                    {
                        "name": "app01",
                        "type": "components",
                        "tags": {
                            "TestSystem": "true"
                        },
                        "properties": {
                            "componentType": "applicationserver",
                            "componentRole": "default",
                            "resources": [
                                {
                                    "resourceId": "/subscriptions/49d64d54-e966-4c46-a868-1999802b762c/resourceGroups/AWC-Selfhost-RG/providers/Microsoft.Compute/virtualMachines/selfhost-vm1"
                                }
                            ]
                        }
                    },
                    {
                        "name": "app02",
                        "type": "components",
                        "tags": {
                            "TestSystem": "true"
                        },
                        "properties": {
                            "componentType": "applicationserver",
                            "componentRole": "default",
                            "resources": [
                                {
                                    "resourceId": "/subscriptions/49d64d54-e966-4c46-a868-1999802b762c/resourceGroups/AWC-Selfhost-RG/providers/Microsoft.Compute/virtualMachines/selfhost-vm2"
                                }
                            ]
                        }
                    },
                    {
                        "name": "db01",
                        "type": "components",
                        "tags": {
                            "TestSystem": "true"
                              },
                        "properties": {
                            "componentType": "databaseserver",
                            "componentRole": "default",
                            "metadata": {
                                "DBType": "HANA"
                            },
                            "resources": [
                                {
                                    "resourceId": "/subscriptions/49d64d54-e966-4c46-a868-1999802b762c/resourceGroups/AWC-Selfhost-RG/providers/Microsoft.Compute/virtualMachines/selfhost-vm3"
                                },
                                {
                                    "resourceId": "/subscriptions/49d64d54-e966-4c46-a868-1999802b762c/resourceGroups/AWC-Selfhost-RG/providers/Microsoft.Compute/virtualMachines/selfhost-vm4"
                                },
                                {
                                    "resourceId": "/subscriptions/49d64d54-e966-4c46-a868-1999802b762c/resourceGroups/AWC-Selfhost-RG/providers/Microsoft.Network/loadBalancers/selfhost-lb1"
                                }
                            ]
                        }
                    },
                    {
                        "name": "cs01",
                        "type": "components",
                        "tags": {
                            "TestSystem": "true"
                        },
                        "properties": {
                            "componentType": "sapcentralservices",
                            "componentRole": "default",
                            "resources": [
                                {
                                    "resourceId": "/subscriptions/49d64d54-e966-4c46-a868-1999802b762c/resourceGroups/AWC-Selfhost-RG/providers/Microsoft.Compute/virtualMachines/selfhost-ascs1"
                                },
                                {
                                    "resourceId": "/subscriptions/49d64d54-e966-4c46-a868-1999802b762c/resourceGroups/AWC-Selfhost-RG/providers/Microsoft.Compute/virtualMachines/selfhost-ascs2"
                                },
                                {
                                    "resourceId": "/subscriptions/49d64d54-e966-4c46-a868-1999802b762c/resourceGroups/AWC-Selfhost-RG/providers/Microsoft.NetApp/netAppAccounts/selfhost-netapp1"
                                },
                                {
                                    "resourceId": "/subscriptions/49d64d54-e966-4c46-a868-1999802b762c/resourceGroups/AWC-Selfhost-RG/providers/Microsoft.Storage/storageAccounts/selfhostsa/fileServices/default/shares/selfhost-fileshare1"
                                }
                            ]
                        }
                    }
                ]
            }
        },
